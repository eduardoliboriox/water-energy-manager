{% extends "base.html" %}
{% block content %}
<h3>âš¡ Simulador de Energia</h3>

<form method="POST" class="card p-3 shadow-sm">
    <div class="row mb-3">
        <div class="col"><label>Leitura Anterior</label>
            <input type="number" step="0.001" name="anterior" class="form-control" required></div>

        <div class="col"><label>Leitura Atual</label>
            <input type="number" step="0.001" name="atual" class="form-control" required></div>
    </div>

    <div class="mb-3">
        <label>Tarifa (R$/kWh)</label>
        <input type="number" step="0.0001" name="tarifa" class="form-control" value="0.903602" required>
    </div>

    <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" name="taxas" checked>
        <label class="form-check-label">Incluir taxas fixas</label>
    </div>

    <button class="btn btn-primary w-100">Calcular</button>
</form>

{% if resultado %}
<div class="alert alert-info mt-4">
    <h5>Resultado</h5>
    Consumo: <b>{{ resultado.consumo }} kWh</b><br>
    Valor consumo: R$ {{ resultado.valor|round(2) }} <br>
    Taxas: R$ {{ resultado.taxas|round(2) }}<br>
    <b>Total: R$ {{ resultado.total|round(2) }}</b>
</div>
{% endif %}
{% endblock %}
